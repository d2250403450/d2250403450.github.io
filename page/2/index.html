<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":300,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Alan Faker">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Alan Faker">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="全能神">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Alan Faker</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Alan Faker</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/16/leetcode785-%E5%88%A4%E6%96%AD%E4%BA%8C%E5%88%86%E5%9B%BE%EF%BC%88BFS%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/16/leetcode785-%E5%88%A4%E6%96%AD%E4%BA%8C%E5%88%86%E5%9B%BE%EF%BC%88BFS%EF%BC%89/" class="post-title-link" itemprop="url">leetcode785:判断二分图（BFS）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-16 11:48:45" itemprop="dateCreated datePublished" datetime="2020-07-16T11:48:45+08:00">2020-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:41:14" itemprop="dateModified" datetime="2020-07-18T12:41:14+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode785-判断二分图"><a href="#leetcode785-判断二分图" class="headerlink" title="leetcode785:判断二分图"></a>leetcode785:判断二分图</h1><h2 id="一-题目描述："><a href="#一-题目描述：" class="headerlink" title="一.题目描述："></a>一.题目描述：</h2><p>给定一个邻接表，判断图中节点能否分成两个独立的子集，使得图中的每一条边连接的两个节点分别来自不同的子集。即判断一个图是否为二分图</p>
<h2 id="二-分析："><a href="#二-分析：" class="headerlink" title="二.分析："></a>二.分析：</h2><p>由于每一条边连接的两个节点不能属于同一个集合，因此，和一个节点相连的所有节点不能与改节点属于同一个集合。</p>
<p>使用染色法，将一个节点染为白色，并从该节点开始遍历。在遍历过程中若通过节点u遍历到节点v（即u和v在图中直接相连）：</p>
<p>1：若v未被染色，则将其染成与u不同的颜色，并在之后对v的所有相邻节点继续遍历。</p>
<p>2：若v已经被染色，并且颜色与u相同，说明给定的图不是二分图，可以直接返回false。</p>
<p>在判断遍历过程中，可以使用广度优先搜索，初始所有节点都没有被染色，当初始节点被染成白色，将其入队。每次从队列中取出一个节点时，将其相邻的所有染成其不同的颜色,并入队，方便对其相邻节点的相邻节点作进一步判断。若发现其相连节点颜色已经相同，则直接返回false。</p>
<h2 id="三-代码："><a href="#三-代码：" class="headerlink" title="三.代码："></a>三.代码：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBipartite</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; graph)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> n=graph.<span class="built_in">size</span>();</span><br><span class="line">       <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;color(n,UNCOLORED);</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(color[i]==UNCOLORED)&#123;</span><br><span class="line">               <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">               q.push(i);</span><br><span class="line">               color[i]=WHITE;</span><br><span class="line">               <span class="keyword">while</span>(!q.empty())&#123;</span><br><span class="line">                   <span class="keyword">int</span> temp=q.front(); </span><br><span class="line">                   q.pop();</span><br><span class="line">                   <span class="keyword">int</span> ncolor;</span><br><span class="line">                   <span class="keyword">if</span>(color[temp]==WHITE)&#123;</span><br><span class="line">                       ncolor=BLACK;</span><br><span class="line">                   &#125;</span><br><span class="line">                   <span class="keyword">else</span> </span><br><span class="line">                       ncolor=WHITE;</span><br><span class="line">                   <span class="keyword">for</span>(<span class="keyword">int</span> neighbor:graph[temp])&#123;</span><br><span class="line">                       <span class="keyword">if</span>(color[neighbor]==UNCOLORED)&#123;</span><br><span class="line">                           q.push(neighbor);</span><br><span class="line">                           color[neighbor]=ncolor;</span><br><span class="line">                       &#125;</span><br><span class="line">                       <span class="keyword">else</span> <span class="keyword">if</span>(color[neighbor]!=ncolor)&#123;</span><br><span class="line">                           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/11/leetcode315-%E9%80%86%E5%BA%8F%E5%AF%B9%E8%AE%A1%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/11/leetcode315-%E9%80%86%E5%BA%8F%E5%AF%B9%E8%AE%A1%E7%AE%97/" class="post-title-link" itemprop="url">leetcode315:逆序对计算</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-11 12:32:13" itemprop="dateCreated datePublished" datetime="2020-07-11T12:32:13+08:00">2020-07-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:40:13" itemprop="dateModified" datetime="2020-07-18T12:40:13+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode315-逆序对计算"><a href="#leetcode315-逆序对计算" class="headerlink" title="leetcode315:逆序对计算"></a>leetcode315:逆序对计算</h1><h2 id="一-题目分析："><a href="#一-题目分析：" class="headerlink" title="一.题目分析："></a>一.题目分析：</h2><p>如果要求数组中每个元素nums[i]右侧小于该元素的元素数量。因此可以理解为求每个位置的逆序对个数。逆序对的求法可以使用归并排序算法，但是又不能改变原始数组的位置，因此可以使用索引数组，定位一个元素在算法执行过程中位置的变化。</p>
<h2 id="二-代码分析："><a href="#二-代码分析：" class="headerlink" title="二.代码分析："></a>二.代码分析：</h2><h3 id="1-countSmaller函数"><a href="#1-countSmaller函数" class="headerlink" title="(1)countSmaller函数"></a>(1)countSmaller函数</h3><p>首先建立两个数组，vector<int>index记录原始数组中每个元素的位置变化，初始化就是每个元素的初始位置。vector<int>count记录原始数组每个元素右侧小于该元素的元素数量。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">countSmaller</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;res(n, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;index(n, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;count(n, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		index[i] = i;</span><br><span class="line">	&#125;</span><br><span class="line">	mergeSort(nums, index, count, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		res[i] = count[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-mergeSort函数"><a href="#2-mergeSort函数" class="headerlink" title="(2)mergeSort函数"></a>(2)mergeSort函数</h3><p>采用归并排序算法，但排序时不改变原始数组nums，只改变索引数组index。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; index, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;count, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">	mergeSort(nums, index, count, left, mid);</span><br><span class="line">	mergeSort(nums, index, count, mid + <span class="number">1</span>, right);</span><br><span class="line">	<span class="keyword">if</span> (nums[index[mid]] &lt; nums[index[mid + <span class="number">1</span>]]) &#123;<span class="comment">//算法优化，若左有序数组的最大值小于右有序数组的最小值，则无需继续排序。</span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	merge(nums, index, count, left, mid, right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-merge函数（左有序数组中的元素加入结果数组时计算逆序数）"><a href="#3-merge函数（左有序数组中的元素加入结果数组时计算逆序数）" class="headerlink" title="(3)merge函数（左有序数组中的元素加入结果数组时计算逆序数）"></a>(3)merge函数（左有序数组中的元素加入结果数组时计算逆序数）</h3><p>在归并排序过程中，除了每次选择两个子有序索引数组中较小的的那个元素加入结果数组，还要计算count数组。</p>
<p>考虑归并排序时出现的四种情况：</p>
<p>1.若nums[temp[s1]] &lt;= nums[temp[s2]]，即左索引数组对应原始数组当前值小于等于右索引数组对应原始数组当前值，说明右数组中已经插入结果数组的值都小于左数组当前值（不会等于，若等于，则会优先加入左数组中的元素，因此右数组中已经加入结果数组的值，都严格小于左数组的当前值），个数为<strong>s2-mid-1</strong>。即<strong>count[index[k]]+=s2-mid-1</strong>。</p>
<p>则将左索引加入结果索引数组，即<strong>index[k]=temp[s1]</strong>。其中，k为结果索引数组的当前遍历位置，s1为左索引数组的当前遍历位置，index[k]为归并排序后，原始数组的索引，即原始数组的index[k]位置的元素，排序后处于k位置。</p>
<p>例：nums=[2,5,1,6],index=[0,1,2,3],count=[0,0,0,0]。</p>
<p>归并nums[2,5]和[1,6]时:temp=[0,1,2,3],nums[temp[0]] &gt; nums[temp[2]]，则index=[2,1,2,3]。</p>
<p>nums[temp[0]] &lt;= nums[temp[3]],index=[2,0,2,3],count[temp[0]]=count[0]+=3-1-1=0+1=1。</p>
<p>2.若nums[temp[s1]] &gt; nums[temp[s2]],即左数组当前值大于右数组当前值，则在结果数组中加入右有序数组。</p>
<p>3.若第一个while循环结束，且s1&lt;=mid，即右索引数组遍历完（全部加入结果数组），则将左索引数组依次加入结果数组，每次更新加入位置count。由于右数组全部加入结果数组，因此，右数组中的所有数都小于左数组当前值，则<strong>count[index[k]]+=right-mid</strong>。</p>
<p>4.若第一个while循环结束，且s2&lt;=right,说明左索引数组遍历完，右数组依次加入结果数组即可</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; index, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp;count, <span class="keyword">int</span> left,<span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;temp(index.<span class="built_in">begin</span>(), index.<span class="built_in">end</span>());</span><br><span class="line">	<span class="keyword">int</span> s1 = left, s2 = mid + <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span> k = left;</span><br><span class="line">	<span class="keyword">while</span> (s1 &lt;= mid &amp;&amp; s2 &lt;= right) &#123;</span><br><span class="line">		<span class="keyword">if</span> (nums[temp[s1]] &lt;= nums[temp[s2]]) &#123;</span><br><span class="line">			index[k] = temp[s1];</span><br><span class="line">			count[index[k]] += s2 - mid - <span class="number">1</span>;</span><br><span class="line">			s1++;</span><br><span class="line">			k++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			index[k] = temp[s2];</span><br><span class="line">			s2++;</span><br><span class="line">			k++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (s1 &lt;= mid) &#123;</span><br><span class="line">		index[k] = temp[s1];</span><br><span class="line">		count[index[k]] += right - mid;</span><br><span class="line">		s1++;</span><br><span class="line">		k++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (s2 &lt;= right) &#123;</span><br><span class="line">		index[k] = temp[s2];</span><br><span class="line">		s2++;</span><br><span class="line">		k++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/10/%E8%82%A1%E7%A5%A8%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/10/%E8%82%A1%E7%A5%A8%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">股票问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-10 10:53:14" itemprop="dateCreated datePublished" datetime="2020-07-10T10:53:14+08:00">2020-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:45:41" itemprop="dateModified" datetime="2020-07-18T12:45:41+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="股票问题"><a href="#股票问题" class="headerlink" title="股票问题"></a>股票问题</h1><h2 id="leetcode309-含冷冻期"><a href="#leetcode309-含冷冻期" class="headerlink" title="leetcode309:含冷冻期"></a>leetcode309:含冷冻期</h2><h3 id="一-动态规划思路："><a href="#一-动态规划思路：" class="headerlink" title="一.动态规划思路："></a>一.动态规划思路：</h3><h4 id="1-状态设定"><a href="#1-状态设定" class="headerlink" title="(1).状态设定"></a>(1).状态设定</h4><p>由于每一天有三种不同的状态：</p>
<p>1：持有一支股票，对应的最大累积收益为dp[i][0]</p>
<p>2:不持有股票，且处于冷冻期中（i-1天卖过股票），对应的最大累积收益为dp[i][1]</p>
<p>3:不持有股票，且不处于冷冻期中（i-1天没有卖出股票），对应的最大累积收益为dp[i][2]</p>
<h4 id="2-初始化状态"><a href="#2-初始化状态" class="headerlink" title="(2).初始化状态"></a>(2).初始化状态</h4><p>1.dp[0][0]代表第0天手上持有一支股票,prices[0]为股票第0天的价格（买入，所以减），因此<strong>dp[0][0]=-prices[0]</strong></p>
<p>2.dp[0][1]和dp[0][2]都表示不持有股票，因此没有买股票，因此<strong>dp[0][1]=dp[0][2]=0</strong></p>
<h4 id="3-转移方程"><a href="#3-转移方程" class="headerlink" title="(3).转移方程"></a>(3).转移方程</h4><p>1.对于dp[i][0],即目前持有一支股票，那么，这个股票可能是第i-1天就已经持有,且第i天没有卖出，即，<strong>dp[i][0]=dp[i-1][0]</strong>；也可能是第i-1天没有股票，且第i-1天不处于冷冻期，才能第i天买入，因此，<strong>dp[i][0]=dp[i-1][2]-prices[i]</strong>。</p>
<p>综上所述，<strong>dp[i][0]=max(dp[i-1][0],dp[i-1][2]-prices[i])</strong></p>
<p>2.对于dp[i][1]，代表第i天不持有任何股票且处于冷冻期，因此说明第i-1天卖出了股票，转移方程为：</p>
<p><strong>dp[i][1]=dp[i-1][0]+prices[i]</strong></p>
<p>3.对于dp[i][2],代表第i天不持有任何股票且不处于冷冻期。说明第i天没有进行任何操作，且第i-1天也不持有股票（若第i-1天持有股票，则第i天要么持有股票，要么处于冷冻期），若第i-1天不处于冷冻期，则dp[i][2]=dp[i-1][2];若第i-1天处于冷冻期，则dp[i][2]=dp[i-1][1]</p>
<p>综上所述，<strong>dp[i][2]=max(dp[i-1][1],dp[i-1][2])</strong></p>
<h4 id="4-动态规划最终值"><a href="#4-动态规划最终值" class="headerlink" title="(4).动态规划最终值"></a>(4).动态规划最终值</h4><p>由于最后一天存在三种状态，因此res=max(dp[n-1][0],dp[n-1][1],dp[n-1][2])。又因为若第i天持有股票，则无法卖出，没有意义，因此最终结果可以简化为：</p>
<p><strong>res=max(dp[n-1][1],dp[n-1][2])</strong></p>
<h4 id="5-代码"><a href="#5-代码" class="headerlink" title="(5).代码"></a>(5).代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=prices.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(len==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;dp(len,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">3</span>,<span class="number">0</span>));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=-prices[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">            dp[i][<span class="number">0</span>]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][<span class="number">0</span>],dp[i<span class="number">-1</span>][<span class="number">2</span>]-prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>]=dp[i<span class="number">-1</span>][<span class="number">0</span>]+prices[i];</span><br><span class="line">            dp[i][<span class="number">2</span>]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][<span class="number">1</span>],dp[i<span class="number">-1</span>][<span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp[len<span class="number">-1</span>][<span class="number">1</span>],dp[len<span class="number">-1</span>][<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="二-动态规划空间优化"><a href="#二-动态规划空间优化" class="headerlink" title="二.动态规划空间优化"></a>二.动态规划空间优化</h3><p>通过动态规划方程可以发现，每一天i的状态都只取决于第i-1天的状态值，因此无需存储不再需要的无关的值。</p>
<h4 id="优化代码："><a href="#优化代码：" class="headerlink" title="优化代码："></a>优化代码：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> len = prices.<span class="built_in">size</span>();</span><br><span class="line">       <span class="keyword">if</span> (len == <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> dp0 = -prices[<span class="number">0</span>];</span><br><span class="line">       <span class="keyword">int</span> dp1 = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> dp2 = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">           <span class="keyword">int</span> temp0 = <span class="built_in">max</span>(dp0, dp2 - prices[i]);</span><br><span class="line">           <span class="keyword">int</span> temp1 = dp0 + prices[i];</span><br><span class="line">           <span class="keyword">int</span> temp2 = <span class="built_in">max</span>(dp1, dp2);</span><br><span class="line">           dp0 = temp0;</span><br><span class="line">           dp1 = temp1;</span><br><span class="line">           dp2 = temp2;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">max</span>(dp1, dp2);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="leetcode714-含手续费"><a href="#leetcode714-含手续费" class="headerlink" title="leetcode714:含手续费"></a>leetcode714:含手续费</h2><h3 id="一-动态规划思路：-1"><a href="#一-动态规划思路：-1" class="headerlink" title="一.动态规划思路："></a>一.动态规划思路：</h3><h4 id="（1）状态设定"><a href="#（1）状态设定" class="headerlink" title="（1）状态设定"></a>（1）状态设定</h4><p>每一天具有两种状态：</p>
<p>1.dp[i][0]表示第i天不持有股票的最大收益。</p>
<p>2.dp[i][1]表示第i天持有股票的最大收益。</p>
<h4 id="（2）初始化状态"><a href="#（2）初始化状态" class="headerlink" title="（2）初始化状态"></a>（2）初始化状态</h4><p>1.dp[0][0]表示第0天不持有股票，因此最大收益为0，即 <strong>dp[0][0]=0</strong>。</p>
<p>2.dp[0][1]表示第0天持有股票，则算上买股票的支出和手续费， <strong>dp[0][1]=-prices[0]-fee</strong>。</p>
<h4 id="（3）转移方程"><a href="#（3）转移方程" class="headerlink" title="（3）转移方程"></a>（3）转移方程</h4><p>1.对于dp[i][0],即第i天不持有股票，存在两种可能，即第i-1天不持有股票，<strong>dp[i][0]=dp[i-1][0]</strong>；第i-1天持有股票，且第i天出售该股票,<strong>dp[i][0]=dp[i-1][1]+prices[i]</strong>。</p>
<p>综上所述：<strong>dp[i][0]=max(dp[i-1][0],dp[i-1][1]+prices[i])</strong></p>
<p>2.对于dp[i][1],即第i天持有股票，存在两种可能，即第i-1天持有股票，<strong>dp[i][1]=dp[i-1][1]</strong>;第i-1天不持有股票，第i天持有股票，即第i天买入股票，<strong>dp[i][1]=dp[i-1][0]-prices[i]-fee</strong>。</p>
<p>综上所述：<strong>dp[i][1]=max(dp[i-1][1],dp[i-1][0]-prices[i]-fee)</strong></p>
<h4 id="4-动态规划终值"><a href="#4-动态规划终值" class="headerlink" title="(4)动态规划终值"></a>(4)动态规划终值</h4><p>由于最后一天存在两种状态，但是，最后一天持有股票没有意义，因此<strong>res=dp[n-1][0]</strong>。</p>
<h4 id="5-代码："><a href="#5-代码：" class="headerlink" title="(5)代码："></a>(5)代码：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices, <span class="keyword">int</span> fee)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = prices.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len &lt;= <span class="number">1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;dp(len, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">2</span>, <span class="number">0</span>));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>] - fee;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i - <span class="number">1</span>][<span class="number">1</span>] + prices[i]);</span><br><span class="line">            dp[i][<span class="number">1</span>] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][<span class="number">1</span>], dp[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i] - fee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="动态规划空间优化"><a href="#动态规划空间优化" class="headerlink" title="动态规划空间优化"></a>动态规划空间优化</h3><p>通过动态规划方程可以发现，每一天i的状态都只取决于第i-1天的状态值，因此无需存储不再需要的无关的值。</p>
<h4 id="优化代码：-1"><a href="#优化代码：-1" class="headerlink" title="优化代码："></a>优化代码：</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices, <span class="keyword">int</span> fee)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = prices.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">if</span> (len &lt;= <span class="number">1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> dp0 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> dp1 = -prices[<span class="number">0</span>] - fee;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> temp0 = <span class="built_in">max</span>(dp0, dp1 + prices[i]);</span><br><span class="line">		<span class="keyword">int</span> temp1 = <span class="built_in">max</span>(dp1, dp0 - prices[i] - fee);</span><br><span class="line">		dp0 = temp0;</span><br><span class="line">		dp1 = temp1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dp0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/08/leetcode540-%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%94%AF%E4%B8%80%E5%85%83%E7%B4%A0%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%EF%BC%8C%E4%BA%8C%E5%88%86%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/08/leetcode540-%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%94%AF%E4%B8%80%E5%85%83%E7%B4%A0%EF%BC%88%E4%BD%8D%E8%BF%90%E7%AE%97%EF%BC%8C%E4%BA%8C%E5%88%86%EF%BC%89/" class="post-title-link" itemprop="url">leetcode540:有序数组的唯一元素（位运算，二分）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 23:24:38" itemprop="dateCreated datePublished" datetime="2020-07-08T23:24:38+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:40:58" itemprop="dateModified" datetime="2020-07-18T12:40:58+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode540-有序数组的唯一元素（位运算，二分）"><a href="#leetcode540-有序数组的唯一元素（位运算，二分）" class="headerlink" title="leetcode540:有序数组的唯一元素（位运算，二分）"></a>leetcode540:有序数组的唯一元素（位运算，二分）</h1><h2 id="方法一：位运算"><a href="#方法一：位运算" class="headerlink" title="方法一：位运算"></a>方法一：位运算</h2><h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><p>考虑到亦或运算，若两个相同的数亦或，结果为0；而任何数n和0亦或，结果为还为n。而数组中只有一个元素出现一次，因此若将所有元素亦或，最后的值就为只出现一次的那个元素。<br>即a^a^b^b^c=c。</p>
<h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">singleNonDuplicate1</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">		res ^= nums[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="方法二：二分查找"><a href="#方法二：二分查找" class="headerlink" title="方法二：二分查找"></a>方法二：二分查找</h2><h3 id="思路：-1"><a href="#思路：-1" class="headerlink" title="思路："></a>思路：</h3><p>由于数组中只有一个数出现一次，因此<strong>数组中的元素总数为奇数</strong>。</p>
<p>通过二分查找，设置left，mid，right三个变量，分别代表当前区间的左边界，右边界，和中间位置。为了简化边界处理问题，因此<strong>当mid为奇数时，可以将mid–从而转化为偶数。（mid–不会越界，因为当mid为奇数时，最小为1，减一后为0）。</strong></p>
<p>之后则比较mid和mid+1位置的值是否相等：</p>
<p>1。若<strong>mid和mid+1位置的值是否相等，若相等，则说明，出现一次的数字在mid+1位置的右侧，则将left赋值为mid+2。</strong></p>
<p>2。若<strong>mid和mid+1位置不相等，说明，只出现一次的那个数在mid位置的左侧，已经出现过了，才会使mid（偶数）和mid+1不相等。因此将right赋值为mid。</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">singleNonDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = len;</span><br><span class="line">	<span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (mid % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">			mid--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (nums[mid] == nums[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">			left = mid + <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			right = mid;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> nums[left];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/08/leetcode-198-213%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/08/leetcode-198-213%EF%BC%88%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%EF%BC%89/" class="post-title-link" itemprop="url">leetcode:198,213（动态规划）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-08 13:05:20" itemprop="dateCreated datePublished" datetime="2020-07-08T13:05:20+08:00">2020-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:41:33" itemprop="dateModified" datetime="2020-07-18T12:41:33+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode-198-213（动态规划）"><a href="#leetcode-198-213（动态规划）" class="headerlink" title="leetcode:198,213（动态规划）"></a>leetcode:198,213（动态规划）</h1><h2 id="一-leetcode-198"><a href="#一-leetcode-198" class="headerlink" title="一.leetcode:198"></a>一.leetcode:198</h2><h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><p>由于不能拿取连续两个位置，因此每个位置存在两种情况：</p>
<p>1：若要偷窃第i间房屋，则不能偷窃第i-1间房屋，因此偷窃的总金额为第i间和前i-2间房的最大值之和。</p>
<p>2：若不偷窃第i间房屋，则偷窃总金额为前i-1间房屋的最大值。</p>
<h3 id="动态规划方程："><a href="#动态规划方程：" class="headerlink" title="动态规划方程："></a>动态规划方程：</h3><p><strong>dp[i]=max( dp[i-1] , dp[i-2]+nums[i] )</strong> </p>
<h3 id="代码1："><a href="#代码1：" class="headerlink" title="代码1："></a>代码1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">if</span> (len == <span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;dp(len, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i - <span class="number">2</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">			dp[i] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + nums[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">			dp[i] = <span class="built_in">max</span>(nums[i - <span class="number">1</span>], nums[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			dp[i] = nums[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dp[len - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="改进："><a href="#改进：" class="headerlink" title="改进："></a>改进：</h3><p>因为每个位置只与前两个位置的最高金额有关，因此可以使用滚动数组的方式，在每个时刻只需要存储前两个位置的总金额。</p>
<h3 id="代码2："><a href="#代码2：" class="headerlink" title="代码2："></a>代码2：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pre1 = <span class="number">0</span>, pre2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = <span class="built_in">max</span>(pre1, pre2 + nums[i]);</span><br><span class="line">        pre2 = pre1;</span><br><span class="line">        pre1 = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="leetcode-213"><a href="#leetcode-213" class="headerlink" title="leetcode:213"></a>leetcode:213</h2><h3 id="思路：-1"><a href="#思路：-1" class="headerlink" title="思路："></a>思路：</h3><p>由于该问题将数组调整为环形，因此第0个位置和第len个位置也属于相邻位置，因此不同时偷窃。</p>
<p>可以把一个环型数组的问题改变为两个线性数组问题。</p>
<h3 id="线性数组的动态规划："><a href="#线性数组的动态规划：" class="headerlink" title="线性数组的动态规划："></a>线性数组的动态规划：</h3><p>该代码的目的为求取一个线性数组的最大偷窃值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dprob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> pre1 = <span class="number">0</span>, pre2 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt;= right; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> cur = <span class="built_in">max</span>(pre1, pre2 + nums[i]);</span><br><span class="line">		pre2 = pre1;</span><br><span class="line">		pre1 = cur;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> pre1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="环形数组的分解问题："><a href="#环形数组的分解问题：" class="headerlink" title="环形数组的分解问题："></a>环形数组的分解问题：</h3><p>由于第0位置和第len-1位置不能同时窃取，因此可以把环形数组划分为 <strong>[ 0 , len-2 ]</strong>和 <strong>[ 1 , len-1 ]</strong>。则总的环形数组动态规划的最大值就为两个分解的线性数组的最大值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">if</span> (nums.<span class="built_in">size</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (len == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">max</span>(dprob(nums, <span class="number">0</span>, len - <span class="number">2</span>), dprob(nums, <span class="number">1</span>, len - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dprob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pre1 = <span class="number">0</span>, pre2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt;= right; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = <span class="built_in">max</span>(pre1, pre2 + nums[i]);</span><br><span class="line">        pre2 = pre1;</span><br><span class="line">        pre1 = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="built_in">size</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(dprob(nums, <span class="number">0</span>, len - <span class="number">2</span>), dprob(nums, <span class="number">1</span>, len - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/07/leetcode435-%E6%97%A0%E9%87%8D%E5%8F%A0%E5%8C%BA%E9%97%B4%EF%BC%88%E8%B4%AA%E5%BF%83%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/07/leetcode435-%E6%97%A0%E9%87%8D%E5%8F%A0%E5%8C%BA%E9%97%B4%EF%BC%88%E8%B4%AA%E5%BF%83%EF%BC%89/" class="post-title-link" itemprop="url">leetcode435:无重叠区间（贪心）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-07 12:30:59" itemprop="dateCreated datePublished" datetime="2020-07-07T12:30:59+08:00">2020-07-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:40:31" itemprop="dateModified" datetime="2020-07-18T12:40:31+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode435-无重叠区间（贪心）"><a href="#leetcode435-无重叠区间（贪心）" class="headerlink" title="leetcode435:无重叠区间（贪心）"></a>leetcode435:无重叠区间（贪心）</h1><h2 id="一-题目描述"><a href="#一-题目描述" class="headerlink" title="一.题目描述"></a>一.题目描述</h2><p>给定一个区间的集合vector&lt;vector<int>&gt;,找到需要移除区间的最小数量，使其余区间互不重叠。注：<strong>边界接触不代表边界重叠</strong>，如：[1,2],[2,3]两区间不重叠。</p>
<h2 id="二-分析"><a href="#二-分析" class="headerlink" title="二.分析"></a>二.分析</h2><p>如果要找到需要移除的区间最小数量，可以把问题转化为：找到不重叠区间的最大数量。之后在用集合的总数减去不重叠区间的最大数量，就可以找到需要移除区间的最小数量。</p>
<p>若要求区间集合中，不重叠区间的最大数量，可以使用贪心算法。将区间按照结束位置排序，迭代判断时，只需要记录当前区间覆盖的最大位置end，之后判断当前区间的开始位置是否大于等于end，即<strong>end&lt;=intervals[i][0]</strong>，若是，则可以更新end，<strong>end=intervals[i][1]</strong>。由于集合已经按结束位置从小到大排序，因此每次迭代更新都会寻找不重叠的最小end，以便于之后的迭代可以容纳更多区间。</p>
<p>1.两个区间不重叠：<br>该情况下，不需要移除任何一个区间，并且将end更新为后面区间的结束位置。</p>
<p>2.两个区间重叠，且后一个区间的终点在前一个区间终点之前。如：[1,3],[0,2],这种情况下，我们只使用后一个区间，即先结束的区间，这样可以为之后的区间留下更多空间。</p>
<p>3.两个区间重叠，其前一个区间的终点在后一个区间终点之前，如：[0,2],[1,3],这种情况下，我们只使用前一个区间，即先结束的区间，这样可以为之后的区间留下更多空间。</p>
<h2 id="三-代码"><a href="#三-代码" class="headerlink" title="三.代码"></a>三.代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">ccmp</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;v2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (v1[<span class="number">1</span>] == v2[<span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> v1[<span class="number">0</span>] &lt; v2[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> v1[<span class="number">1</span>] &lt; v2[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">eraseOverlapIntervals</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; intervals)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row = intervals.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span>(row==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    sort(intervals.<span class="built_in">begin</span>(), intervals.<span class="built_in">end</span>(), ccmp);</span><br><span class="line">    <span class="keyword">int</span> temp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">end</span> = intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">end</span> &lt;= intervals[i][<span class="number">0</span>]) &#123;</span><br><span class="line">            temp++;</span><br><span class="line">            <span class="built_in">end</span> = intervals[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> row - temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/05/O%EF%BC%88n%EF%BC%89%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%A7%A3%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/05/O%EF%BC%88n%EF%BC%89%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E8%A7%A3%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92/" class="post-title-link" itemprop="url">O（n）空间复杂度解杨辉三角</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-05 12:33:16" itemprop="dateCreated datePublished" datetime="2020-07-05T12:33:16+08:00">2020-07-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:42:09" itemprop="dateModified" datetime="2020-07-18T12:42:09+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="O（n）空间复杂度解杨辉三角"><a href="#O（n）空间复杂度解杨辉三角" class="headerlink" title="O（n）空间复杂度解杨辉三角"></a>O（n）空间复杂度解杨辉三角</h1><h2 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h2><p>使用循环数组，每次迭代都只会使用上一次迭代计算完成的数组，因此一共使用两个数组就可以解决任意层的杨辉三角形。</p>
<p>其中需要注意的是，每次迭代都只用从当前行的第二个位置开始计算（第一个位置为1，不会改变），且计算只需要迭代到该行的倒数第二个位置（最后一个位置也为1）</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">getRow</span><span class="params">(<span class="keyword">int</span> rowIndex)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;res(rowIndex + <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;temp(rowIndex + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= rowIndex; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">			res[i] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">int</span> j;</span><br><span class="line">			<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; i; j++) &#123;</span><br><span class="line">				res[j] = temp[j] + temp[j - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			res[j] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		temp = res;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/04/leetcode32-%E6%9C%80%E9%95%BF%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/04/leetcode32-%E6%9C%80%E9%95%BF%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/" class="post-title-link" itemprop="url">leetcode32:最长有效括号</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-04 11:04:13" itemprop="dateCreated datePublished" datetime="2020-07-04T11:04:13+08:00">2020-07-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:34:26" itemprop="dateModified" datetime="2020-07-18T12:34:26+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leetcode32-最长有效括号"><a href="#leetcode32-最长有效括号" class="headerlink" title="leetcode32:最长有效括号"></a>leetcode32:最长有效括号</h1><h2 id="一-思路"><a href="#一-思路" class="headerlink" title="一.思路"></a>一.思路</h2><p>定义dp数组，dp[i]表示以下标i字符结尾的最长有效括号的长度。初始化全部为0。当遍历时，有效子串一定以’)’结尾。</p>
<p>从前往后遍历时，首先判断s[i]是否为’)’,之后还要判断和s[i]对应的位置是否为’(‘, 即 ,<strong>s[i - dp[i-1] - 1]</strong> 是否为’(‘。</p>
<p>若是，则需要判断<br><strong>[i , i-dp[i-1]-1]</strong> 之间是否也是有效括号，并加上中间有效括号的长度。即 </p>
<p><strong>dp[i] = dp[i-1] + 2</strong>。</p>
<p>最后，则需要判断[i , i-dp[i-1]-1]之外是否存在有效括号可以与其相接。其中[i , i-dp[i-1]-1]之外的有效括号结尾位置为 <strong>i - dp[i-1]-  2</strong>，也等于<strong>i - dp[i]</strong>则需要加上该有效括号之前邻接的有效括号的长度,即</p>
<p><strong>dp[i] += dp[ i - dp[i] ]</strong>。</p>
<h2 id="二-代码"><a href="#二-代码" class="headerlink" title="二.代码"></a>二.代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;dp(len, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">')'</span> &amp;&amp; i - dp[i - <span class="number">1</span>] - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">'('</span>) &#123;</span><br><span class="line">                dp[i] = <span class="number">2</span> + dp[i - <span class="number">1</span>] ;</span><br><span class="line">                <span class="keyword">if</span> (i - dp[i] &gt;= <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i] += dp[i - dp[i]];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                res = <span class="built_in">max</span>(res, dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/30/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D/" class="post-title-link" itemprop="url">正则表达式匹配</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-30 10:52:48" itemprop="dateCreated datePublished" datetime="2020-06-30T10:52:48+08:00">2020-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:45:28" itemprop="dateModified" datetime="2020-07-18T12:45:28+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="正则表达式匹配"><a href="#正则表达式匹配" class="headerlink" title="正则表达式匹配"></a>正则表达式匹配</h1><h2 id="一-思路："><a href="#一-思路：" class="headerlink" title="一.思路："></a>一.思路：</h2><p>假设主串为 A，模式串为 B 从最后一步出发，需要关注最后进来的字符。假设 <strong>A 的长度为 n</strong>，<strong>B 的长度为 m</strong>，关注正则表达式 B 的最后一个字符是谁，它有三种可能，正常字符、* 和 .（点），那针对这三种情况讨论即可，如下：</p>
<p>1.若B的最后一个字符是正常字符（非’<em>‘和’.’),则看*</em>A[n-1]是否等于B[m-1]<strong>。若相等，则继续比较</strong>A[n-2]和B[m-2]**。这就是子问题。</p>
<p>2.若<strong>B的最后一个字符是’.’</strong>，则它能匹配任意字符，则直接继续比较<strong>A[n-2]和B[m-2]</strong>。</p>
<p>3.若B的最后一个字符是’*’，则表示B[m-2]==c(任意字符)可以重复匹配0次或任意多次。两种情况分别讨论：</p>
<p>(1)A[n-1]不是c或不匹配，则说明B中的’<em>‘匹配0次，即最后两个字符作废（”x *”作废），则*</em>继续匹配A[n-1]和B[m-3]**。</p>
<p>(2)A[n-1]是c并且进行匹配 <strong>(A[n-1]==c||c==’.’)</strong>，则A向前移动一位，B中的’<em>‘继续匹配，则*</em>继续匹配A[n-2]和B[m-1]**。</p>
<h2 id="二-动态规划分析"><a href="#二-动态规划分析" class="headerlink" title="二.动态规划分析"></a>二.动态规划分析</h2><p>bool dp[i][j]表示A的前i个字符和B的前j个字符能否匹配。</p>
<h3 id="初始化："><a href="#初始化：" class="headerlink" title="初始化："></a>初始化：</h3><p>dp[0][0]表示两个空串匹配，则<strong>dp[0][0]=true</strong>;</p>
<p>dp[i][0]（i!=0)表示主串A中有字符，而正则串中没有字符，则无法匹配，则<strong>dp[i][0]（i!=0)=false</strong>。</p>
<h3 id="动态规划方程分析："><a href="#动态规划方程分析：" class="headerlink" title="动态规划方程分析："></a>动态规划方程分析：</h3><p><strong>对于情况1，2，dp[i][j]=dp[i-1][j-1]</strong></p>
<p>对于情况3，两种情况分别讨论：</p>
<p><strong>对于情况(1)，不使用’*’，直接忽视正则串的后两个字符，dp[i][j]=dp[i][j-2]</strong></p>
<p><strong>对于情况(2)，使用’*’，则正则串B不动，主串A前移一位，dp[i][j]=dp[i-1][j]</strong></p>
<h2 id="三-代码"><a href="#三-代码" class="headerlink" title="三.代码"></a>三.代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">int</span> m = p.<span class="built_in">size</span>();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;dp(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(m + <span class="number">1</span>, <span class="literal">false</span>));</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>; <span class="comment">//初始化</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		dp[i][<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (p[j - <span class="number">1</span>] != <span class="string">'*'</span>) &#123; <span class="comment">//情况1，2</span></span><br><span class="line">				<span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; (s[i - <span class="number">1</span>] == p[j - <span class="number">1</span>] || p[j - <span class="number">1</span>] == <span class="string">'.'</span>)) &#123;</span><br><span class="line">					dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123; <span class="comment">//情况3</span></span><br><span class="line">				<span class="keyword">if</span> (j &gt;= <span class="number">2</span>) &#123; <span class="comment">//情况3（1）</span></span><br><span class="line">					dp[i][j] = dp[i][j] | dp[i][j - <span class="number">2</span>];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (i &gt;= <span class="number">1</span> &amp;&amp; j &gt;= <span class="number">2</span> &amp;&amp; (s[i - <span class="number">1</span>] == p[j - <span class="number">2</span>] || p[j - <span class="number">2</span>] == <span class="string">'.'</span>)) &#123; <span class="comment">//情况3（2）</span></span><br><span class="line">					dp[i][j] = dp[i][j] | dp[i - <span class="number">1</span>][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dp[n][m];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="leetcode44-通配符匹配"><a href="#leetcode44-通配符匹配" class="headerlink" title="leetcode44:通配符匹配"></a>leetcode44:通配符匹配</h1><p>与正则表达式不同，该条件下，‘*’可以与人一字符串匹配，包括空串。</p>
<h2 id="一-思路：-1"><a href="#一-思路：-1" class="headerlink" title="一.思路："></a>一.思路：</h2><p>该问题中，字母和字母之间，字母和’?’之间的匹配是确定的，而’<em>‘与字母的匹配却是不确定的，因此需要进行枚举。假设A的长度为n，B的长度为m。和上一个问题相同，我们关注目前字符串B的最后一个字符，包括三种可能性，即：字母，’?’,’</em>‘。其中字母和’?’的处理与上一题字母和’.’的处理相同。</p>
<p>1.若B的最后一个字符是正常字符（非’<em>‘和’？’),则看*</em>A[n-1]是否等于B[m-1]<strong>。若相等，则继续比较</strong>A[n-2]和B[m-2]**。</p>
<p>2.若<strong>B的最后一个字符是’？’</strong>，则它能匹配任意字符，则直接继续比较<strong>A[n-2]和B[m-2]</strong>。</p>
<p>3.若B的最后一个字符是’<em>‘，则表示B[m-1]可以重复A中的任意多个相同或不相同字符，由于’</em>‘可以匹配空串，则需要分两种情况讨论：</p>
<p>（1）使用B[m-1]来匹配A[n-1],则继续匹配B[m-1]和A[n-2]，即’*’继续匹配，匹配的字符为A的下一个字符。</p>
<p>（2）不使用B[m-1]来匹配A[n-1],则需要继续匹配B[m-2]和A[n-1],即’*’为空串，A[n-1]还没匹配，需要继续匹配。</p>
<h2 id="二-动态规划分析-1"><a href="#二-动态规划分析-1" class="headerlink" title="二.动态规划分析"></a>二.动态规划分析</h2><p>bool dp[i][j]表示字符串s的前i个字符和模式串p的前j个字符是否能够匹配。</p>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p><strong>dp[0][0]=true</strong>,即两个空串可以匹配。</p>
<p><strong>dp[i]<a href="i>0">0</a>=false</strong>，即当s串不为空，而p串为空时，无法完全匹配。</p>
<p><strong>dp[0]<a href="j>0">j</a></strong>需要分情况讨论：<strong>因为只有’<em>‘可以匹配空串，因此只有当p的前j个字符均为’</em>‘才可以和s的空串匹配。</strong></p>
<h3 id="动态规划方程"><a href="#动态规划方程" class="headerlink" title="动态规划方程"></a>动态规划方程</h3><p>对于情况1，2，<strong>dp[i][j]=dp[i-1][j-1]</strong></p>
<p>对于情况3，分两种情况分别讨论：</p>
<p>(1)不使用’<em>‘,即’</em>‘匹配空串，直接忽视p的当前字符，<strong>dp[i][j]=dp[i][j-1]</strong></p>
<p>(2)使用’<em>‘，即串s向前移动继续匹配，串p继续使用’</em>‘不动，则<strong>dp[i][j]=dp[i-1][j]</strong></p>
<h2 id="三-代码-1"><a href="#三-代码-1" class="headerlink" title="三.代码"></a>三.代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isMatch</span><span class="params">(<span class="built_in">string</span> s,<span class="built_in">string</span> p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> m=p.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;&gt;dp(n+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;(m+<span class="number">1</span>,<span class="literal">false</span>));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p[j<span class="number">-1</span>]==<span class="string">'*'</span>)&#123;</span><br><span class="line">                dp[<span class="number">0</span>][j]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(p[j<span class="number">-1</span>]!=<span class="string">'*'</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(p[j<span class="number">-1</span>]==s[i<span class="number">-1</span>]||p[j<span class="number">-1</span>]==<span class="string">'?'</span>)&#123;</span><br><span class="line">                        dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j]=dp[i][j<span class="number">-1</span>]|dp[i<span class="number">-1</span>][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n][m];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/30/%E5%8D%95%E8%B0%83%E6%A0%88-leetcode42%E6%8E%A5%E9%9B%A8%E6%B0%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/a1.jpg">
      <meta itemprop="name" content="全能神">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alan Faker">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/30/%E5%8D%95%E8%B0%83%E6%A0%88-leetcode42%E6%8E%A5%E9%9B%A8%E6%B0%B4/" class="post-title-link" itemprop="url">单调栈:leetcode42接雨水</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-30 09:33:22" itemprop="dateCreated datePublished" datetime="2020-06-30T09:33:22+08:00">2020-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-18 12:42:23" itemprop="dateModified" datetime="2020-07-18T12:42:23+08:00">2020-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="单调栈-leetcode42接雨水"><a href="#单调栈-leetcode42接雨水" class="headerlink" title="单调栈:leetcode42接雨水"></a>单调栈:leetcode42接雨水</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">height</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">height</span>.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;g;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (!g.empty() &amp;&amp; <span class="built_in">height</span>[i] &gt;= <span class="built_in">height</span>[g.top()])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> t = g.top();</span><br><span class="line">            g.pop();</span><br><span class="line">            <span class="keyword">if</span> (g.empty())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> length = i - g.top() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> deep = <span class="built_in">min</span>(<span class="built_in">height</span>[i], <span class="built_in">height</span>[g.top()]) - <span class="built_in">height</span>[t];</span><br><span class="line">            res += length*deep;</span><br><span class="line">        &#125;</span><br><span class="line">        g.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">


      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->


<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 
src="//music.163.com/outchain/player?type=1&id=80752440&auto=1&height=430">
</iframe>




      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="全能神"
      src="/images/a1.jpg">
  <p class="site-author-name" itemprop="name">全能神</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">29</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        




<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">全能神</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
